## Created a new programming blog
This blog is primarily for tracking growth and competency as a developer. But it is
also daily updates on my current progress in my learning journey.

Its currently 9/20/2025

Today I'm working on my flask forum I've written in python using postgresql for a RMDBS.
Its primarily meant for people who hunt or love backpacking, with all sorts of survival tips and manuals.

Current features are:
* Server sided sessions (on the db) & temporary session data tables
* Creating posts/linked replies
* Draft auto saving
* User Individual session viewer (for login auditing)
* Email based Login/Logout for normal users and superusers
* Deletion of replies by superusers

The main focus of today, is to switch from my original approach of a basic ```forums.html``` a singular page that displays all forum posts to a category based one.
That way, we can have categories.

My approach so far is to create categories as a SQL table,
```sql
CREATE TABLE IF NOT EXISTS categories (
    id SERIAL PRIMARY KEY,
    name VARCHAR(30) NOT NULL
);
```
And we can link the category id to each post in our posts table for easy association
```sql
CREATE TABLE IF NOT EXISTS posts (
    id SERIAL PRIMARY KEY,
    category_id BIGINT NOT NULL,
    title VARCHAR(250) NOT NULL,
    views INT DEFAULT 0,
    contents VARCHAR(2000) NOT NULL,
    author BIGINT NOT NULL REFERENCES users (id),
    url_title VARCHAR(40) NOT NULL DEFAULT '',
    post_locked BOOLEAN NOT NULL DEFAULT FALSE,
    creation_date TIMESTAMPTZ DEFAULT NOW(),
    FOREIGN KEY (category_id) REFERENCES categories(id) --here
);
```
In my code, I have this file called [```init_db.py```](https://github.com/daylightInitiative/Vagabond-Forum/blob/master/init_db.py) that sets up initial accounts and their passwords, I'm going to add some initial category entries.
```python
dbmanager.write(query_str="""
    INSERT INTO categories (name)
        VALUES (%s)
    """, params=("announcements",))

dbmanager.write(query_str="""
    INSERT INTO categories (name)
        VALUES (%s)
    """, params=("bushcraft",))
```
```dbmanager``` is my own wrapper around psycopg2 that has its own options and error handling.
By this [commit](https://github.com/daylightInitiative/Vagabond-Forum/commit/5cd9269b8050f46f9e2ac74b70472e4438d17740) I reorganized the routes and added categories.
Current website URL structure:

```/``` - displays all the current categories

```/forums?page=1&category=1``` - displays all posts for given category

```/forums/1/welcome-to-the-forum``` - example post entry follows the pattern of:
```/forums/POST_ID/URL-SAFE-POST-TITLE```

Replies and new posts were also fixed this commit.